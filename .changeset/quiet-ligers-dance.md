---
"@wiggum/rsbuild-plugin-wiggum": patch
---

Improve the injected browser widget manager API so `window.WiggumChatWidget.open()`, `close()`, and `isOpen()` now reflect real runtime widget state instead of placeholder behavior. `open()` now also initializes the widget manager when called before DOM-ready auto-init, and toggle transitions use stable state polling to avoid close/open race oscillation (with pending retry timers now cleared on destroy). This release also removes noisy inspector debug logging, softens missing-OpenCode diagnostics to a clearer ENOENT fallback message, adds backend-disable controls for environments without `opencode` (`disableBackend: true` option or `WIGGUM_CHAT_WIDGET_DISABLE_BACKEND=1`), skips browser-side OpenCode client initialization in backend-disabled mode, awaits backend server close during dev-server shutdown for cleaner teardown, and documents the browser API surface in the plugin README. Package metadata/export typing has also been tightened for cleaner package-lint results, including explicit package type/repository metadata and dual declaration extension targets for import/require conditions.
